{% extends 'match/base.html' %}

{% block css %}
<style>
  table {
    table-layout: auto !important;
    width: 1px !important;
  }

  td, th {
    max-width:100%;
    white-space:nowrap;
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  .right {
    text-align: right;
  }

  @media screen and (max-width: 768px) {
    table {
      width: 100% !important;
    }
    div#info {
      width: 100% !important;
    }
    div#buttons {
      width: 100% !important;
    }
  }

  span {
    font-size:60% !important;
  }

  .hiddenLink {
        text-decoration: inherit !important;
  }


  .nav-link {
      margin-right: 30px;
  }
  .nav-link#None {
      color:red !important;
      border-bottom: solid 3px red !important;
  }
  .hover-nav:hover {
      color:red !important;
      border-bottom: solid 3px red !important;
  }
</style>
{% endblock %}

{% block scripts %}
<script>
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl)
  })
</script>

<script type="text/javascript">
  $(document).ready(function() {
      var table = $('#data-table').DataTable( {
          ordering: false,
          paging: false,
          searching: false,
          info: false,
      });
  });
</script>
{% endblock %}


{% block content %}
  <br>

  <div id="info" style="width:75%; text-align:center;">
    <div class="col-xl-4 rounded p-2 mb-4" 
    style="display:inline-block; border: 1px solid black; {% if match.TeamOneWon %}background-color:rgb(195, 230, 203){% elif match.MatchDraw %}background-color:white{% else %}background-color:rgb(245,198,203){% endif %}">
      <h3 style="text-align:center"> {{ match.Map }}</h3>
      <h2 class="" style="font-weight:bold; text-align:center">{{ match.Score }}</h2>
      <p style="text-align:center;">{{ match.Date }}</p>
    </div>
  </div>

  <br>

  <div id="buttons" style="width:75%; text-align:center;">
    <div style="display: inline-block;">
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#basic" role="button">Basic</a>
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#detailed" role="button">Detailed</a>
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#kills" role="button">Kills/Deaths</a>
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#side" role="button">Attack/Defense</a>
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#multikills" role="button">Multi-Kills</a>
      <a class="btn btn-outline-dark shadow-sm" style="font-size:80%; margin:5px" href="#outcome" role="button">Round Outcome</a>
    </div>
  </div>

  <br><br>

  <h3 id="basic">Basic</h3>
  
  <div class="table-responsive-lg">
  <table class="table table-hover table-striped table-sm "
         style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168);">
    <thead>
      <tr style="font-size:100%;">
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Assists" data-bs-toggle="tooltip" data-bs-placement="top">A</th>
        <th class="right" title="Kill Difference (Kills-Deaths)" data-bs-toggle="tooltip" data-bs-placement="top">+/-</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" title="Average Combat Score" data-bs-toggle="tooltip" data-bs-placement="top">ACS</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="First Bloods" data-bs-toggle="tooltip" data-bs-placement="top">FB</th>
        <th class="right" title="First Deaths" data-bs-toggle="tooltip" data-bs-placement="top">FD</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Kills }}</td>
            <td class="right">{{ player.Deaths }}</td>
            <td class="right">{{ player.Assists }}</td>
            <td class="right" style="{% if player.KillDifferential > 0 %}color:green{% elif player.KillDifferential == 0 %}{% else %}color:red{% endif %}">{{ player.KillDifferential }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230); {% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.ACS }}</td>
            <td class="right" style="order-right:1px solid rgb(222, 226, 230)">{{ player.ExactADR|floatformat:0 }}</td>
            <td class="right">{{ player.FirstBloods }}</td>
            <td class="right">{{ player.FirstDeaths }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr style="font-size:100%;">
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Assists" data-bs-toggle="tooltip" data-bs-placement="top">A</th>
        <th class="right" title="Kill Difference (Kills-Deaths)" data-bs-toggle="tooltip" data-bs-placement="top">+/-</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" title="Average Combat Score" data-bs-toggle="tooltip" data-bs-placement="top">ACS</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="First Bloods" data-bs-toggle="tooltip" data-bs-placement="top">FB</th>
        <th class="right" title="First Deaths" data-bs-toggle="tooltip" data-bs-placement="top">FD</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Kills }}</td>
            <td class="right">{{ player.Deaths }}</td>
            <td class="right">{{ player.Assists }}</td>
            <td class="right" style="{% if player.KillDifferential > 0 %}color:green{% elif player.KillDifferential == 0 %}{% else %}color:red{% endif %}">{{ player.KillDifferential }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230); {% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.ACS }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.ExactADR|floatformat:0 }}</td>
            <td class="right">{{ player.FirstBloods }}</td>
            <td class="right">{{ player.FirstDeaths }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br>

  <h3 id="detailed">Detailed</h3>

  <div class="table-responsive-lg">
  <table class="table table-hover table-striped table-sm" 
    style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168)">
    <thead>
      <tr style="font-size:100%;">
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Tracker Score" data-bs-toggle="tooltip" data-bs-placement="top">TRS</th>
        <th class="right" title="Average Combat Score" data-bs-toggle="tooltip" data-bs-placement="top">ACS</th>
        <th class="right" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" title="Damage Delta" data-bs-toggle="tooltip" data-bs-placement="top">DD</th>
        <th class="right" title="Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Headshot Percentage" data-bs-toggle="tooltip" data-bs-placement="top">HS%</th>
        <th class="right" title="Percent of Rounds with 1+ Kill" data-bs-toggle="tooltip" data-bs-placement="top">K%</th>
        <th class="right" title="Killed/Assisted/Survived/Traded Round Percentage" data-bs-toggle="tooltip" data-bs-placement="top">KAST%</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.TRS }}</td>
            <td class="right">{{ player.ACS }}</td>
            <td class="right" style="{% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="{% if player.DamageDelta > 0 %}color:green{% elif player.DamageDelta == 0 %}{% else %}color:red{% endif %}">{{ player.DamageDelta }}</td>
            <td class="right">{{ player.ExactADR|floatformat:2 }}</td>
            <td class="right">{{ player.HS_Pct|floatformat:2 }}</td>
            <td class="right" style="{% if player.K_Pct > 0.5 %}color:green{% elif player.K_Pct == 0.5 %}{% else %}color:red{% endif %};">{{ player.K_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.KAST|floatformat:2 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr style="font-size:100%;">
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Tracker Score" data-bs-toggle="tooltip" data-bs-placement="top">TRS</th>
        <th class="right" title="Average Combat Score" data-bs-toggle="tooltip" data-bs-placement="top">ACS</th>
        <th class="right" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" title="Damage Delta" data-bs-toggle="tooltip" data-bs-placement="top">DD</th>
        <th class="right" title="Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Headshot Percentage" data-bs-toggle="tooltip" data-bs-placement="top">HS%</th>
        <th class="right" title="Percent of Rounds with 1+ Kill" data-bs-toggle="tooltip" data-bs-placement="top">K%</th>
        <th class="right" title="Killed/Assisted/Survived/Traded Round Percentage" data-bs-toggle="tooltip" data-bs-placement="top">KAST%</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.TRS }}</td>
            <td class="right">{{ player.ACS }}</td>
            <td class="right" style="{% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="{% if player.DamageDelta > 0 %}color:green{% elif player.DamageDelta == 0 %}{% else %}color:red{% endif %}">{{ player.DamageDelta }}</td>
            <td class="right">{{ player.ExactADR|floatformat:2 }}</td>
            <td class="right">{{ player.HS_Pct|floatformat:2 }}</td>
            <td class="right" style="{% if player.K_Pct > 0.5 %}color:green{% elif player.K_Pct == 0.5 %}{% else %}color:red{% endif %};">{{ player.K_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.KAST|floatformat:2 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br>

  <h3 id="kills">Kills / Deaths</h3>

  <div class="table-responsive-lg">
  <table class="table table-hover table-striped table-sm"
     style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168)">
    <thead>
      <tr style="font-size:100%;">
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Percent of Rounds with 1+ Kill" data-bs-toggle="tooltip" data-bs-placement="top">K%</th>
        <th class="right" title="First Bloods" data-bs-toggle="tooltip" data-bs-placement="top">FB</th>
        <th class="right" title="First Deaths" data-bs-toggle="tooltip" data-bs-placement="top">FD</th>
        <th class="right" title="Percent of Rounds with First Blood" data-bs-toggle="tooltip" data-bs-placement="top">FB%</th>
        <th class="right" title="Percent of Rounds with First Death" data-bs-toggle="tooltip" data-bs-placement="top">FD%</th>
        <th class="right" title="First Blood/First Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">FB/FD</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Kills }}</td>
            <td class="right">{{ player.Deaths }}</td>
            <td class="right" style="{% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="{% if player.K_Pct > 0.5 %}color:green{% elif player.K_Pct == 0.5 %}{% else %}color:red{% endif %}; border-right:1px solid rgb(222, 226, 230)">{{ player.K_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.FirstBloods }}</td>
            <td class="right">{{ player.FirstDeaths }}</td>
            <td class="right">{{ player.FB_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.FD_Pct|floatformat:2 }}</td>
            <td class="right" style="{% if player.FBFDRatio > 1 %}color:green{% elif player.FBFDRatio == 1 %}{% else %}color:red{% endif %}">{{ player.FBFDRatio|floatformat:2 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr style="font-size:100%;">
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Percent of Rounds with 1+ Kill" data-bs-toggle="tooltip" data-bs-placement="top">K%</th>
        <th class="right" title="First Bloods" data-bs-toggle="tooltip" data-bs-placement="top">FB</th>
        <th class="right" title="First Deaths" data-bs-toggle="tooltip" data-bs-placement="top">FD</th>
        <th class="right" title="Percent of Rounds with First Blood" data-bs-toggle="tooltip" data-bs-placement="top">FB%</th>
        <th class="right" title="Percent of Rounds with First Death" data-bs-toggle="tooltip" data-bs-placement="top">FD%</th>
        <th class="right" title="First Blood/First Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">FB/FD</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Kills }}</td>
            <td class="right">{{ player.Deaths }}</td>
            <td class="right" style="{% if player.KillDeathRatio > 1 %}color:green{% elif player.KillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.KillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="{% if player.K_Pct > 0.5 %}color:green{% elif player.K_Pct == 0.5 %}{% else %}color:red{% endif %}; border-right:1px solid rgb(222, 226, 230)">{{ player.K_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.FirstBloods }}</td>
            <td class="right">{{ player.FirstDeaths }}</td>
            <td class="right">{{ player.FB_Pct|floatformat:2 }}</td>
            <td class="right">{{ player.FD_Pct|floatformat:2 }}</td>
            <td class="right" style="{% if player.FBFDRatio > 1 %}color:green{% elif player.FBFDRatio == 1 %}{% else %}color:red{% endif %}">{{ player.FBFDRatio|floatformat:2 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br>

  <h3 id="side">Attack / Defense</h3>

  <div class="table-responsive-lg">
  <table class="table table-hover table-striped table-sm" 
    style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168)">
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="5" style="text-align:center; border-right:1px solid rgb(222, 226, 230)">Attack</th>
        <th colspan="5" style="text-align:center">Defense</th>
      </tr>
      <tr>
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Attack Win-Loss Record" data-bs-toggle="tooltip" data-bs-placement="top">W-L</th>
        <th class="right" title="Attack Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Attack Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Attack Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Attack Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Defense Win-Loss Record" data-bs-toggle="tooltip" data-bs-placement="top">W-L</th>
        <th class="right" title="Defense Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Defense Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Defense Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Defense Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right" style="{% if player.AttackWinPct > 0.5 %}color:green{% elif player.AttackWinPct == 0.5 %}{% else %}color:red{% endif %}">{{ player.AttackScore }}</td>
            <td class="right">{{ player.AttackKills }}</td>
            <td class="right">{{ player.AttackDeaths }}</td>
            <td class="right" style="{% if player.AttackKillDeathRatio > 1 %}color:green{% elif player.AttackKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.AttackKillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.AttackAverageDamage|floatformat:1 }}</td>
            <td class="right" style="{% if player.DefenseWinPct > 0.5 %}color:green{% elif player.DefenseWinPct == 0.5 %}{% else %}color:red{% endif %}">{{ player.DefenseScore }}</td>
            <td class="right">{{ player.DefenseKills }}</td>
            <td class="right">{{ player.DefenseDeaths }}</td>
            <td class="right" style="{% if player.DefenseKillDeathRatio > 1 %}color:green{% elif player.DefenseKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.DefenseKillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.DefenseAverageDamage|floatformat:1 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="5" style="text-align:center; border-right:1px solid rgb(222, 226, 230)">Attack</th>
        <th colspan="5" style="text-align:center">Defense</th>
      </tr>
      <tr>
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Attack Win-Loss Record" data-bs-toggle="tooltip" data-bs-placement="top">W-L</th>
        <th class="right" title="Attack Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Attack Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Attack Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Attack Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Defense Win-Loss Record" data-bs-toggle="tooltip" data-bs-placement="top">W-L</th>
        <th class="right" title="Defense Kills" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Defense Deaths" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Defense Kill Death Ratio" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Defense Average Damage per Round" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right" style="{% if player.AttackWinPct > 0.5 %}color:green{% elif player.AttackWinPct == 0.5 %}{% else %}color:red{% endif %}">{{ player.AttackScore }}</td>
            <td class="right">{{ player.AttackKills }}</td>
            <td class="right">{{ player.AttackDeaths }}</td>
            <td class="right" style="{% if player.AttackKillDeathRatio > 1 %}color:green{% elif player.AttackKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.AttackKillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.AttackAverageDamage|floatformat:1 }}</td>
            <td class="right" style="{% if player.DefenseWinPct > 0.5 %}color:green{% elif player.DefenseWinPct == 0.5 %}{% else %}color:red{% endif %}">{{ player.DefenseScore }}</td>
            <td class="right">{{ player.DefenseKills }}</td>
            <td class="right">{{ player.DefenseDeaths }}</td>
            <td class="right" style="{% if player.DefenseKillDeathRatio > 1 %}color:green{% elif player.DefenseKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.DefenseKillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.DefenseAverageDamage|floatformat:1 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br>

  <h3 id="multikills">Multi-Kills</h3>

  <div class="table-responsive-lg">
  <table class=" table table-hover table-striped table-sm" 
    style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168)">
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="7" style="text-align:center; border-right:1px solid rgb(222, 226, 230)">Rounds with X kills</th>
        <th colspan="7" style="text-align:center;">Rounds with at least X kills</th>
      </tr>
      <tr>
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230); width:1%"></th> 
        <th class="right">0K</th>
        <th class="right">1K</th>
        <th class="right">2K</th>
        <th class="right">3K</th>
        <th class="right">4K</th>
        <th class="right">5K</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)">6K</th>
        <th class="right">0K+</th>
        <th class="right">1K+</th>
        <th class="right">2K+</th>
        <th class="right">3K+</th>
        <th class="right">4K+</th>
        <th class="right">5K+</th>
        <th class="right">6K+</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.ZeroKillRounds }}</td>
            <td class="right">{{ player.OneKillRounds }}</td>
            <td class="right">{{ player.TwoKillRounds }}</td>
            <td class="right">{{ player.ThreeKillRounds }}</td>
            <td class="right">{{ player.FourKillRounds }}</td>
            <td class="right">{{ player.FiveKillRounds }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.SixKillRounds }}</td>
            <td class="right">{{ player.AtLeastZeroKills }}</td>
            <td class="right">{{ player.AtLeastOneKill }}</td>
            <td class="right">{{ player.AtLeastTwoKills }}</td>
            <td class="right">{{ player.AtLeastThreeKills }}</td>
            <td class="right">{{ player.AtLeastFourKills }}</td>
            <td class="right">{{ player.AtLeastFiveKills }}</td>
            <td class="right">{{ player.AtLeastSixKills }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="7" style="text-align:center; border-right:1px solid rgb(222, 226, 230)">Rounds with X kills</th>
        <th colspan="7" style="text-align:center;">Rounds with at least X kills</th>
      </tr>
      <tr>
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230); width:1%"></th> 
        <th class="right">0K</th>
        <th class="right">1K</th>
        <th class="right">2K</th>
        <th class="right">3K</th>
        <th class="right">4K</th>
        <th class="right">5K</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)">6K</th>
        <th class="right">0K+</th>
        <th class="right">1K+</th>
        <th class="right">2K+</th>
        <th class="right">3K+</th>
        <th class="right">4K+</th>
        <th class="right">5K+</th>
        <th class="right">6K+</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.ZeroKillRounds }}</td>
            <td class="right">{{ player.OneKillRounds }}</td>
            <td class="right">{{ player.TwoKillRounds }}</td>
            <td class="right">{{ player.ThreeKillRounds }}</td>
            <td class="right">{{ player.FourKillRounds }}</td>
            <td class="right">{{ player.FiveKillRounds }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.SixKillRounds }}</td>
            <td class="right">{{ player.AtLeastZeroKills }}</td>
            <td class="right">{{ player.AtLeastOneKill }}</td>
            <td class="right">{{ player.AtLeastTwoKills }}</td>
            <td class="right">{{ player.AtLeastThreeKills }}</td>
            <td class="right">{{ player.AtLeastFourKills }}</td>
            <td class="right">{{ player.AtLeastFiveKills }}</td>
            <td class="right">{{ player.AtLeastSixKills }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br>
  
  <h3 id="outcome">Round Outcome</h3>

  <div class="table-responsive-lg">
  <table class="table table-hover table-striped table-sm" 
    style="font-size:100%; font-weight:normal; width:75%; border:1px solid rgb(168, 168, 168)">
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="5" style="text-align:center; border-right:1px solid rgb(222, 226, 230)">Rounds Won</th>
        <th colspan="5" style="text-align:center">Rounds Lost</th>
      </tr>
      <tr>
        <th>Team</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">Rds</th>
        <th class="right" title="Kills in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round Won" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">Rds</th>
        <th class="right" title="Kills in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round Lost" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team A" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   <a class="hiddenLink" href="{% url 'player_detail' player.Username %}">{{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></a></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Match.TeamOneScore }}</td>
            <td class="right">{{ player.WinKills }}</td>
            <td class="right">{{ player.WinDeaths }}</td>
            <td class="right" style="{% if player.WinKillDeathRatio > 1 %}color:green{% elif player.WinKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.WinKillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.WinAverageDamage|floatformat:1 }}</td>
            <td class="right">{{ player.Match.TeamTwoScore }}</td>
            <td class="right">{{ player.LossKills }}</td>
            <td class="right">{{ player.LossDeaths }}</td>
            <td class="right" style="{% if player.LossKillDeathRatio > 1 %}color:green{% elif player.LossKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.LossKillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.LossAverageDamage|floatformat:1 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
    <thead>
      <tr>
        <th></th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th colspan="5" style="text-align:center; border-right:1px solid rgb(222, 226, 230); width:32%">Rounds Won</th>
        <th colspan="5" style="text-align:center; width:32%">Rounds Lost</th>
      </tr>
      <tr>
        <th>Opponents</th>
        <th style="border-right:1px solid rgb(222, 226, 230)"></th>
        <th class="right" title="Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">Rds</th>
        <th class="right" title="Kills in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio in Rounds Won" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round Won" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
        <th class="right" title="Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">Rds</th>
        <th class="right" title="Kills in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">K</th>
        <th class="right" title="Deaths in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">D</th>
        <th class="right" title="Kill Death Ratio in Rounds Lost" data-bs-toggle="tooltip" data-bs-placement="top">K/D</th>
        <th class="right" style="border-right:1px solid rgb(222, 226, 230)" title="Average Damage per Round Lost" data-bs-toggle="tooltip" data-bs-placement="top">ADR</th>
      </tr>
    </thead>
    <tbody>
      {% for player in match.player_set.all %}
        {% if player.Team == "Team B" %}
          <tr>
            <td><img src="{{ player.AgentImage }}" alt="{{ player.Agent }}" height=30px title="{{ player.Agent }}" data-bs-toggle="tooltip" data-bs-placement="top">   {{ player.DisplayName }} <span class="badge" style="color:white; background-color:grey">{{ player.UserTag }}</span></td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)"><img src="{{ player.RankImage }}" alt="{{ player.Rank }}" height=30px title="{{ player.Rank }}" data-bs-toggle="tooltip" data-bs-placement="top"></td>
            <td class="right">{{ player.Match.TeamOneScore }}</td>
            <td class="right">{{ player.WinKills }}</td>
            <td class="right">{{ player.WinDeaths }}</td>
            <td class="right" style="{% if player.WinKillDeathRatio > 1 %}color:green{% elif player.WinKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.WinKillDeathRatio|floatformat:2 }}</td>
            <td class="right" style="border-right:1px solid rgb(222, 226, 230)">{{ player.WinAverageDamage|floatformat:1 }}</td>
            <td class="right">{{ player.Match.TeamTwoScore }}</td>
            <td class="right">{{ player.LossKills }}</td>
            <td class="right">{{ player.LossDeaths }}</td>
            <td class="right" style="{% if player.LossKillDeathRatio > 1 %}color:green{% elif player.LossKillDeathRatio == 1 %}{% else %}color:red{% endif %}">{{ player.LossKillDeathRatio|floatformat:2 }}</td>
            <td class="right">{{ player.LossAverageDamage|floatformat:1 }}</td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  </div>

  <br><br><br>

{% endblock %}